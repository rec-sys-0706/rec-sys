{% extends "index.html" %}

{% block content %}
    <div class="login-box">
        <!-- Centered Tab Navigation -->
        <ul class="nav nav-tabs d-flex justify-content-center" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="login-tab" href="/main" role="tab" aria-controls="login" aria-selected="true">LogIn</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="signup-tab" href="/main/signup" role="tab" aria-controls="signup" aria-selected="false">SignUp</a>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="myTabContent">
            <!-- SignUp Tab -->
            <div class="tab-pane fade show active" id="signup" role="tabpanel" aria-labelledby="signup-tab">
                <!-- SignUp form with action to /recommend -->
                <form action="{{ url_for('main.signup') }}" method="post" class="mt-3">
                    <input name="email" class="form-control" placeholder="email" aria-label="email" required>
                    <input name="account" type="text" class="form-control" placeholder="account" aria-label="account" required>
                    <input name="password" type="password" class="form-control" placeholder="password" aria-label="password" required>
                    <button type="submit" class="btn btn-primary login-button">SignUp</button>
                </form>
            </div>
        </div>
    </div>
  
    {% if status == 'False' %}
        <script>
            Swal.fire({
                title:"註冊失敗",
                text:"email 不符合格式",
                icon:"error",
                confirmButtonText:"返回",
                allowOutsideClick:false
            }).then (function(){
                window.location.href="/main/signup"
            });
        </script>
    {% elif status == 'F' %}
        <script>
            Swal.fire({
                title:"註冊失敗",
                text:"帳號名稱已存在",
                icon:"error",
                confirmButtonText:"返回",
                allowOutsideClick:false
            }).then (function(){
                window.location.href="/main/signup"
            });
        </script>
    {% elif status == 'True' %}
        <script>
            Swal.fire({
                title:"註冊成功",
                text:"已建立帳號",
                icon:"success",
                confirmButtonText:"返回",
                allowOutsideClick:false
            }).then (function(){
                window.location.href="/main"
            });
        </script>
    {% endif %}
{% endblock %}